import{a as o}from"./axios.364130a5.js";import{_,o as l,c,a as t,w as b,v as m,b as v,F as w,r as E,t as u,p as y,d as k}from"./index.7d8ad70d.js";class f{async buscarTodosAsEditoras(){return(await o.get("https://raizera.herokuapp.com/publishers")).data}async buscarCategorias(s){return(await o.get(`https://raizera.herokuapp.com/publishers/${s}`)).data}async adicionarEditora(s){return(await o.post("https://raizera.herokuapp.com/publishers",s)).data}async excluirEditora(s){(await o.delete(`https://raizera.herokuapp.com/publishers/${s}`)).data}async atualizarEditora(s){return(await o.put(`https://raizera.herokuapp.com/publishers/${s.id}`,s)).data}}const i=new f,x={data(){return{editora:{},editoras:[]}},async created(){this.editoras=await i.buscarTodosAsEditoras()},methods:{async salvar(){this.editora.id?await i.atualizarEditora(this.editora):await i.adicionarEditora(this.editora),this.editoras=await i.buscarTodosAsEditoras(),this.editora={}},async excluir(e){await i.excluirEditora(e.id),this.editoras=await i.buscarTodosAsEditoras()},editar(e){Object.assign(this.editora,e)}}},p=e=>(y("data-v-07fb9981"),e=e(),k(),e),A={class:"container"},g=p(()=>t("div",{class:"title"},[t("h2",null,"Gerenciamento de Editoras")],-1)),z={class:"form-input"},C={class:"list-items"},I=p(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Nome"),t("th",null,"A\xE7\xF5es")])],-1)),T=["onClick"],S=["onClick"];function V(e,s,n,B,d,r){return l(),c("div",A,[g,t("div",z,[b(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>d.editora.description=a),onKeyup:s[1]||(s[1]=v((...a)=>r.salvar&&r.salvar(...a),["enter"]))},null,544),[[m,d.editora.description]]),t("button",{onClick:s[2]||(s[2]=(...a)=>r.salvar&&r.salvar(...a))},"Adicionar")]),t("div",C,[t("table",null,[I,t("tbody",null,[(l(!0),c(w,null,E(d.editoras,a=>(l(),c("tr",{key:a.id},[t("td",null,u(a.id),1),t("td",null,u(a.description),1),t("td",null,[t("button",{onClick:h=>r.editar(a)},"Editar",8,T),t("button",{onClick:h=>r.excluir(a)},"Excluir",8,S)])]))),128))])])])])}const K=_(x,[["render",V],["__scopeId","data-v-07fb9981"]]);export{K as default};
